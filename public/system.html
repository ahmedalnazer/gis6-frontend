<!DOCTYPE html>
<html>
	<head>
		<title>Get system info</title>
	</head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.1/socket.io.js"></script>
	<script>
		var socket;
		
		document.onreadystatechange = function()
		{
			if (document.readyState != 'complete') return;
			
			socket = io.connect(':8000');
			console.log('Document load complete');
			
			socket.on('connect', function()
			{
				console.log('Connected to socket.io');
				socket.emit('join', { 'room' : 'system' } );
				//socket.join('system');
				console.log('Requested to join system room');
			});
			
			socket.on('reconnect', function()
			{
				console.log('Reconnected to socket.io');
				//socket.join('system');
				//console.log('Requested to join system room');
			});
			
			socket.on('disconnecting', function()
			{
				//socket.leave('system');
				console.log('Left system room');
			});
			
			socket.on('disconnect', function()
			{
				console.log('Disconnected from socket.io');
			});
			
			socket.on('system.info', function(data)
			{
				console.log(data)
			});
		};
	</script>
	<body>
		<p>system is <span id="system"/></p>
	</body>
</html>
